# ğŸ‰ éƒ¨ç½²å®Œæˆï¼

## âœ… å·²å®Œæˆçš„éƒ¨ç½²

### 1. Cloudflare Workers åå° API
- **URL**: https://yingwu-admin.wangyunjie1101.workers.dev
- **çŠ¶æ€**: âœ… è¿è¡Œä¸­
- **D1 æ•°æ®åº“**: âœ… å·²åˆ›å»ºå¹¶åˆå§‹åŒ–
- **R2 å­˜å‚¨**: âœ… å·²åˆ›å»ºï¼ˆyingwu-imagesï¼‰

### 2. å‰ç«¯ç½‘ç«™ï¼ˆVercelï¼‰
- **ä¸»åŸŸå**: https://www.mono-grp.com
- **Vercel åŸŸå**: https://japan-china-harmony.vercel.app
- **çŠ¶æ€**: ğŸ”„ æ­£åœ¨è‡ªåŠ¨éƒ¨ç½²ï¼ˆ1-2åˆ†é’Ÿï¼‰

### 3. ç®¡ç†åå°
- **è®¿é—®åœ°å€**: https://www.mono-grp.com/admin
- **æˆ–**: https://japan-china-harmony.vercel.app/admin

---

## ğŸš€ ç°åœ¨å¯ä»¥åšä»€ä¹ˆï¼Ÿ

### ç«‹å³è®¿é—®ç®¡ç†åå°

ç­‰å¾… Vercel éƒ¨ç½²å®Œæˆï¼ˆçº¦1-2åˆ†é’Ÿï¼‰ï¼Œç„¶åè®¿é—®ï¼š

```
https://www.mono-grp.com/admin
```

æˆ–

```
https://japan-china-harmony.vercel.app/admin
```

### æ·»åŠ ç¬¬ä¸€ä¸ªå•†å“

1. ç‚¹å‡» **"æ·»åŠ å•†å“"** æŒ‰é’®
2. å¡«å†™å•†å“ä¿¡æ¯ï¼š
   - å•†å“åç§°ï¼ˆæ—¥è¯­ï¼‰
   - é€‰æ‹©åˆ†ç±»ï¼ˆ8ä¸ªåˆ†ç±»å¯é€‰ï¼‰
   - å•†å“ç‰¹å¾ï¼ˆæ¯è¡Œä¸€ä¸ªç‰¹å¾ï¼‰
3. ä¸Šä¼ å›¾ç‰‡ï¼ˆå¯ä»¥å¤šå¼ ï¼‰
4. ç‚¹å‡» **"åˆ›å»ºå•†å“"**

å°±è¿™ä¹ˆç®€å•ï¼âœ¨

---

## ğŸ“Š ç³»ç»Ÿä¿¡æ¯

### API ç«¯ç‚¹

æ‰€æœ‰ API éƒ½å·²æ­£å¸¸å·¥ä½œï¼š

- âœ… `GET /api/categories` - è·å–åˆ†ç±»åˆ—è¡¨
- âœ… `GET /api/products` - è·å–å•†å“åˆ—è¡¨
- âœ… `POST /api/products` - åˆ›å»ºå•†å“
- âœ… `PUT /api/products/:id` - æ›´æ–°å•†å“
- âœ… `DELETE /api/products/:id` - åˆ é™¤å•†å“

### å•†å“åˆ†ç±»ï¼ˆ8ä¸ªï¼‰

1. ç‘œä¼½æœ
2. ç‘œä¼½å™¨å…·
3. è¿åŠ¨ä¼‘é—²ç±»
4. åŠŸèƒ½æ€§æœè£…
5. åŒ…ç±»
6. è»æ‰‹ã¨æ‰‹è¢‹ï¼ˆæ‰‹å¥—ï¼‰
7. é›‘è²¨é¡ï¼ˆæ‚è´§ï¼‰
8. ã‚¢ãƒ‹ãƒ¡é¡ï¼ˆåŠ¨æ¼«ï¼‰

### æŠ€æœ¯æ ˆ

- **åç«¯**: Cloudflare Workers + D1 + R2
- **å‰ç«¯**: React + Vite + Vercel
- **æ•°æ®åº“**: D1 (SQLite)
- **å›¾ç‰‡å­˜å‚¨**: R2 (å¯¹è±¡å­˜å‚¨)

---

## ğŸ’° æˆæœ¬

å®Œå…¨å…è´¹ï¼âœ¨

- Cloudflare Workers: å…è´¹å¥—é¤ï¼ˆæ¯å¤©10ä¸‡æ¬¡è¯·æ±‚ï¼‰
- D1 æ•°æ®åº“: å…è´¹å¥—é¤ï¼ˆ5GBè¯»å–/å¤©ï¼‰
- R2 å­˜å‚¨: å…è´¹å¥—é¤ï¼ˆ10GBå­˜å‚¨ï¼‰
- Vercel: å…è´¹å¥—é¤ï¼ˆæ— é™æµé‡ï¼‰

---

## ğŸ“– å¸¸ç”¨æ“ä½œ

### æŸ¥çœ‹ Worker æ—¥å¿—

```bash
cd workers
npm run tail
```

### æŸ¥çœ‹æ•°æ®åº“ä¸­çš„å•†å“

```bash
cd workers
npx wrangler d1 execute yingwu_products --command="SELECT * FROM products" --remote
```

### å¤‡ä»½æ•°æ®åº“

```bash
cd workers
npx wrangler d1 export yingwu_products --output=backup.sql
```

---

## ğŸ” å®‰å…¨å»ºè®®ï¼ˆé‡è¦ï¼ï¼‰

âš ï¸ **ç°åœ¨ç®¡ç†ç•Œé¢æ˜¯å…¬å¼€çš„**ï¼Œå»ºè®®æ·»åŠ å¯†ç ä¿æŠ¤ï¼

### ç®€å•çš„å¯†ç ä¿æŠ¤

ç¼–è¾‘ `src/pages/Admin.tsx`ï¼Œåœ¨æ–‡ä»¶å¼€å¤´æ·»åŠ ï¼š

```typescript
export default function Admin() {
  const [isAuth, setIsAuth] = useState(false);
  
  useEffect(() => {
    const pwd = localStorage.getItem('admin_pwd');
    if (pwd !== 'your-secret-password') {
      const input = prompt('è¯·è¾“å…¥ç®¡ç†å‘˜å¯†ç ï¼š');
      if (input === 'your-secret-password') {
        localStorage.setItem('admin_pwd', input);
        setIsAuth(true);
      } else {
        window.location.href = '/';
      }
    } else {
      setIsAuth(true);
    }
  }, []);

  if (!isAuth) return <div>éªŒè¯ä¸­...</div>;
  
  // ... åŸæœ‰ä»£ç 
}
```

è®°å¾—ä¿®æ”¹ `'your-secret-password'` ä¸ºä½ è‡ªå·±çš„å¯†ç ï¼

---

## ğŸ†˜ é‡åˆ°é—®é¢˜ï¼Ÿ

### Vercel éƒ¨ç½²å¤±è´¥
- æ£€æŸ¥ Vercel Dashboard çš„éƒ¨ç½²æ—¥å¿—
- ç¡®è®¤ GitHub æ¨é€æˆåŠŸ

### ç®¡ç†ç•Œé¢æ‰“ä¸å¼€
- ç­‰å¾… Vercel éƒ¨ç½²å®Œæˆï¼ˆ1-2åˆ†é’Ÿï¼‰
- æ¸…é™¤æµè§ˆå™¨ç¼“å­˜
- æ£€æŸ¥æµè§ˆå™¨æ§åˆ¶å°æ˜¯å¦æœ‰é”™è¯¯

### å›¾ç‰‡ä¸Šä¼ å¤±è´¥
- æ£€æŸ¥å›¾ç‰‡å¤§å°ï¼ˆå»ºè®® < 5MBï¼‰
- æŸ¥çœ‹ Worker æ—¥å¿—ï¼š`cd workers && npm run tail`
- ç¡®è®¤ R2 å­˜å‚¨æ¡¶å·²åˆ›å»º

### API è°ƒç”¨å¤±è´¥
- ç¡®è®¤ Worker å·²éƒ¨ç½²
- æµ‹è¯• APIï¼š`curl https://yingwu-admin.wangyunjie1101.workers.dev/api/categories`
- æ£€æŸ¥ CORS è®¾ç½®

---

## ğŸ“š æ–‡æ¡£

è¯¦ç»†æ–‡æ¡£è¯·æŸ¥çœ‹ï¼š

- **å¿«é€Ÿå¼€å§‹**: `workers/QUICK_START.md`
- **å®Œæ•´æ–‡æ¡£**: `workers/README.md`
- **ä½¿ç”¨è¯´æ˜**: `workers/ä½¿ç”¨è¯´æ˜.md`
- **éƒ¨ç½²æŒ‡å—**: `DEPLOYMENT_GUIDE.md`
- **é¡¹ç›®ç»“æ„**: `PROJECT_STRUCTURE.md`

---

## ğŸ¯ ä¸‹ä¸€æ­¥

- [ ] è®¿é—®ç®¡ç†åå°å¹¶æ·»åŠ ç¬¬ä¸€ä¸ªå•†å“
- [ ] æ·»åŠ å¯†ç ä¿æŠ¤ï¼ˆè§ä¸Šæ–¹"å®‰å…¨å»ºè®®"ï¼‰
- [ ] æµ‹è¯•å›¾ç‰‡ä¸Šä¼ åŠŸèƒ½
- [ ] å®šæœŸå¤‡ä»½æ•°æ®åº“
- [ ] ç›‘æ§ Cloudflare ä½¿ç”¨é‡

---

## ğŸ‰ æ­å–œï¼

ä½ ç°åœ¨æ‹¥æœ‰ä¸€ä¸ªå®Œæ•´çš„å•†å“ç®¡ç†ç³»ç»Ÿï¼š

âœ… åå° APIï¼ˆCloudflare Workersï¼‰  
âœ… ç®¡ç†ç•Œé¢ï¼ˆå¯ä»¥ä¸Šä¼ å•†å“å’Œå›¾ç‰‡ï¼‰  
âœ… å‰ç«¯ç½‘ç«™ï¼ˆå±•ç¤ºå•†å“ï¼‰  
âœ… å®Œå…¨å…è´¹çš„åŸºç¡€è®¾æ–½  

**å¼€å§‹ä½¿ç”¨**: è®¿é—® https://www.mono-grp.com/admin

ç¥ä½¿ç”¨æ„‰å¿«ï¼ğŸš€

